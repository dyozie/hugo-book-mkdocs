<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>Installing PXF Plug-ins - Pivotal HDB</title>
    <meta name="generator" content="Hugo 0.36.1" />

    
    <link rel="canonical" href="https://example.org/pxf/installpxfplugins/">
    

    <meta property="og:url" content="https://example.org/pxf/installpxfplugins/">
    <meta property="og:title" content="Pivotal HDB">
    <meta property="og:image" content="https://example.org/images/logo.png">
    <meta name="apple-mobile-web-app-title" content="Pivotal HDB">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="https://example.org/images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="https://example.org/images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('https://example.org/fonts/icon.eot');
        src: url('https://example.org/fonts/icon.eot')
               format('embedded-opentype'),
             url('https://example.org/fonts/icon.woff')
               format('woff'),
             url('https://example.org/fonts/icon.ttf')
               format('truetype'),
             url('https://example.org/fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="https://example.org/stylesheets/application.css">
    <link rel="stylesheet" href="https://example.org/stylesheets/temporary.css">
    <link rel="stylesheet" href="https://example.org/stylesheets/palettes.css">
    <link rel="stylesheet" href="https://example.org/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu&#43;Mono">
    <style>
      body, input {
        font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <script src="https://example.org/javascripts/modernizr.js"></script>

    

  </head>
  <body class="palette-primary-teal palette-accent-deep orange">




<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        Installing PXF Plug-ins
      </div>
    </div>

    

    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="https://example.org/" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="https://example.org/images/logo.png">
        </div>
      
      <div class="name">
        <strong>Pivotal HDB <span class="version">1.0.0</span></strong>
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="Ambari Administration" href="https://example.org/admin/ambari-admin">
	
	Ambari Administration
</a>



  
</li>



<li>
  
    



<a  title="Ddls" href="https://example.org/ddl/">
	
	Ddls
</a>



  
</li>



<li>
  
    



<a  title="Managing Client Access" href="https://example.org/clientaccess/">
	
	Managing Client Access
</a>



  
</li>



<li>
  
    



<a  title="Pivotal HDB Docs" href="https://example.org/">
	
	Pivotal HDB Docs
</a>



  
</li>



<li>
  
    



<a  title="Plexts" href="https://example.org/plext/">
	
	Plexts
</a>



  
</li>



<li>
  
    



<a  title="Pxfs" href="https://example.org/pxf/">
	
	Pxfs
</a>



  
</li>



<li>
  
    



<a  title="Queries" href="https://example.org/query/">
	
	Queries
</a>



  
</li>



<li>
  
    



<a  title="Requirements" href="https://example.org/requirements/">
	
	Requirements
</a>



  
</li>



<li>
  
    



<a  title="Troubleshootings" href="https://example.org/troubleshooting/">
	
	Troubleshootings
</a>



  
</li>



<li>
  
    



<a  title="Tutorials" href="https://example.org/tutorial/">
	
	Tutorials
</a>



  
</li>


        </ul>
        

        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1>Installing PXF Plug-ins </h1>

			

<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<p>This topic describes how to install the built-in PXF service plug-ins that are required to connect PXF to HDFS, Hive, HBase, JDBC, and JSON.</p>

<p><strong>Note:</strong> PXF requires that you run Tomcat on the host machine. Tomcat reserves ports 8005, 8080, and 8009. If you have configured Oozie JXM reporting on a host that will run PXF, make sure that the reporting service uses a port other than 8005. This helps to prevent port conflict errors from occurring when you start the PXF service.</p>

<h2 id="a-id-directories-and-logs-a-pxf-installation-and-log-file-directories"><a id="directories_and_logs"></a>PXF Installation and Log File Directories</h2>

<p>Installing PXF plug-ins, regardless of method, creates directories and log files on each node receiving the plug-in installation:</p>

<table>
<thead>
<tr>
<th>Directory</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>/usr/lib/pxf</code></td>
<td>PXF library location</td>
</tr>

<tr>
<td><code>/etc/pxf/conf</code></td>
<td>PXF configuration directory. This directory contains the <code>pxf-public.classpath</code> and <code>pxf-private.classpath</code> configuration files. See <a href="ConfigurePXF.html#settingupthejavaclasspath">Setting up the Java Classpath</a>.</td>
</tr>

<tr>
<td><code>/var/pxf/pxf-service</code></td>
<td>PXF service instance location</td>
</tr>

<tr>
<td><code>/var/log/pxf</code></td>
<td>This directory includes <code>pxf-service.log</code> and all Tomcat-related logs including <code>catalina.out</code>. Logs are owned by user:group <code>pxf</code>:<code>pxf</code>. Other users have read access.</td>
</tr>

<tr>
<td><code>/var/run/pxf/catalina.pid</code></td>
<td>PXF Tomcat container PID location</td>
</tr>
</tbody>
</table>

<h2 id="a-id-install-pxf-plug-ambari-a-installing-pxf-using-ambari"><a id="install_pxf_plug_ambari"></a>Installing PXF Using Ambari</h2>

<p>If you are using Ambari to install and manage your HAWQ cluster, you do <em>not</em> need to follow the manual installation steps in this topic. Installing using the Ambari web interface installs all of the necessary PXF plug-in components.</p>

<h2 id="a-id-install-pxf-plug-cmdline-a-installing-pxf-from-the-command-line"><a id="install_pxf_plug_cmdline"></a>Installing PXF from the Command Line</h2>

<p>Each PXF service plug-in resides in its own RPM.  You may have built these RPMs in the Apache HAWQ open source project repository (see <a href="https://github.com/apache/incubator-hawq/blob/master/pxf/README.md">PXF Build Instructions</a>), or these RPMs may have been included in a commercial product download package.</p>

<p>Perform the following steps on <strong><em>each</em></strong> node in your cluster to install PXF:</p>

<ol>
<li><p>Install the PXF software, including Apache, the PXF service, and all PXF plug-ins: HDFS, HBase, Hive, JDBC, JSON:</p>

<pre><code class="language-shell">$ sudo yum install -y pxf
</code></pre>

<p>Installing PXF in this manner:</p>

<ul>
<li>installs the required version of <code>apache-tomcat</code></li>
<li>creates a <code>/etc/pxf/pxf-n.n.n</code> directory, adding a softlink from <code>/etc/pxf</code> to this directory</li>
<li>sets up the PXF service configuration files in <code>/etc/pxf</code></li>
<li>creates a <code>/usr/lib/pxf-n.n.n</code> directory, adding a softlink from <code>/usr/lib/pxf</code> to this directory</li>
<li>copies the PXF service JAR file <code>pxf-service-n.n.n.jar</code> to <code>/usr/lib/pxf-n.n.n/</code></li>
<li>copies JAR files for each of the PXF plugs-ins to <code>/usr/lib/pxf-n.n.n/</code></li>
<li>creates softlinks from <code>pxf-xxx.jar</code> in <code>/usr/lib/pxf-n.n.n/</code></li>
</ul></li>

<li><p>Initialize the PXF service:</p>

<pre><code class="language-shell">$ sudo service pxf-service init
</code></pre></li>

<li><p>Start the PXF service:</p>

<pre><code class="language-shell">$ sudo service pxf-service start
</code></pre>

<p>Additional <code>pxf-service</code> command options include <code>stop</code>, <code>restart</code>, and <code>status</code>.</p></li>

<li><p>If you choose to use the HBase plug-in, perform the following configuration:</p>

<ol>
<li><p>Add the PXF HBase plug-in JAR file to the HBase <code>CLASSPATH</code> by updating the <code>HBASE_CLASSPATH</code> environment variable setting in the HBase environment file <code>/etc/hbase/conf/hbase-env.sh</code>:</p>

<pre><code class="language-shell">export HBASE_CLASSPATH=${HBASE_CLASSPATH}:/usr/lib/pxf/pxf-hbase.jar
</code></pre></li>

<li><p>Restart the HBase service after making this update to HBase configuration.</p>

<p>On the HBase Master node:</p>

<pre><code class="language-shell">$ su -l hbase -c &quot;/usr/hdp/current/hbase-master/bin/hbase-daemon.sh restart master; sleep 25&quot;
</code></pre>

<p>On an HBase Region Server node:</p>

<pre><code class="language-shell">$ su -l hbase -c &quot;/usr/hdp/current/hbase-regionserver/bin/hbase-daemon.sh restart regionserver&quot;
</code></pre></li>
</ol></li>
</ol>


			<aside class="copyright" role="note">
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
      <a href="https://example.org/ddl/locate-table-hdfs/" title="Identifying HAWQ Table HDFS Files">
        <span class="direction">
          Previous
        </span>
        <div class="page">
          <div class="button button-previous" role="button" aria-label="Previous">
            <i class="icon icon-back"></i>
          </div>
          <div class="stretch">
            <div class="title">
              Identifying HAWQ Table HDFS Files
            </div>
          </div>
        </div>
      </a>
  
  </div>

  <div class="next">
  
      <a href="https://example.org/admin/setuphawqopenv/" title="Introducing the HAWQ Operating Environment">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              Introducing the HAWQ Operating Environment
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>





			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = '';
      var repo_id  = '';
    
    </script>

    <script src="https://example.org/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

